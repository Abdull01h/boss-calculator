const PASS="abdullah-mafia-1880";

/* LOADING */
setTimeout(()=>{
 document.getElementById("loading").style.display="none";
 document.getElementById("loginPage").classList.remove("hidden");
},3000);

/* LOGIN */
function login(){
 let p=document.getElementById("password").value;
 if(p===PASS){
  document.getElementById("loginPage").classList.add("hidden");
  document.getElementById("app").classList.remove("hidden");
 }else{
  document.getElementById("error").innerText="Wrong Password";
 }
}

function logout(){
 document.getElementById("app").classList.add("hidden");
 document.getElementById("loginPage").classList.remove("hidden");
}

/* SECTION SWITCH */
function showCalc(id){
 document.querySelectorAll(".calc").forEach(c=>c.classList.add("hidden"));
 document.getElementById(id).classList.remove("hidden");
}

/* NORMAL */
let display=document.getElementById("display");
function press(v){display.value+=v;}
function clearDisplay(){display.value="";}
function calc(){
 try{display.value=eval(display.value);}
 catch{display.value="Error";}
}

/* SCIENTIFIC */
let sciDisplay=document.getElementById("sciDisplay");
function sci(op){
 if(op==="pi") sciDisplay.value+=Math.PI;
 else if(op==="e") sciDisplay.value+=Math.E;
 else sciDisplay.value+=op+"(";
}
function calcSci(){
 try{
  let v=sciDisplay.value
   .replace("sin","Math.sin")
   .replace("cos","Math.cos")
   .replace("tan","Math.tan")
   .replace("sqrt","Math.sqrt")
   .replace("log","Math.log")
   .replace("pow","Math.pow");
  sciDisplay.value=eval(v);
 }catch{ sciDisplay.value="Error"; }
}
function clearSci(){sciDisplay.value="";}

/* AGE */
function calcAge(){
 let dob=document.getElementById("dob").value.split("-");
 let d=new Date(dob[2],dob[1]-1,dob[0]);
 let diff=Date.now()-d;
 let age=new Date(diff).getUTCFullYear()-1970;
 document.getElementById("ageResult").innerText="Age: "+age;
}

/* ZAKAT */
function calcZakat(){
 let m=+document.getElementById("money").value;
 let z=m*0.025;
 document.getElementById("zakatResult").innerText="Zakat: "+z;
}

/* SUN / MOON (basic) */
function sunMoon(){
 let d=new Date(document.getElementById("date").value);
 let day=d.getDate();
 let phase=(day%29);
 document.getElementById("sunMoonResult").innerText=
  "Moon Age: "+phase+" days\nSunrise ~ 6:00 AM\nSunset ~ 6:00 PM";
}
